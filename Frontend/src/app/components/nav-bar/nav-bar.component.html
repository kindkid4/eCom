<div id="mySidenav" class="sidenav">
<label  class="m-5">
    <img *ngIf="loggedin()" class="pfp" [src]="url ? url : 'https://www.w3schools.com/howto/img_avatar.png'">
  </label>
  <br />

  <!-- <input id="fileInput" type='file' (change)="onSelectFile($event)"> -->
  <h1 (click)="false" class="m-3 text-center"  style="color:white">Bun venit <h1 *ngIf="loggedin()" >{{loggedinUser}}</h1></h1>
  <a href="javascript:void(0)" class="closebtn" (click)="closeNav()">&times;</a>
  <a *ngIf="!loggedin()" (click)="closeNav()" (click)="reload()" class="dropdown-item" routerLink="user/register"
    routerLinkActive="active">Register</a>
  <a *ngIf="!loggedin()" (click)="closeNav()" (click)="reload()" class="dropdown-item" routerLink="user/login"
    routerLinkActive="active">Login</a>
  <a *ngIf="loggedin()" (click)="closeNav()" (click)="reload()" routerLink="/user/profile/1" class="dropdown-item"><i class="fas fa-file-invoice"></i>
    Sumar cont</a>
  <a *ngIf="loggedin()" (click)="closeNav()" (click)="reload()" routerLink="/user/profile/2" class="dropdown-item"><i
      class="fas fa-user-circle"></i> Profil</a>
  <a *ngIf="loggedin()" (click)="closeNav()" (click)="reload()" routerLink="/user/profile/3" class="dropdown-item"><i class="fas fa-map-marked-alt"></i>
    Adresa</a>
  <a *ngIf="loggedin()" (click)="closeNav()" (click)="reload()" routerLink="/user/profile/4" class="dropdown-item"><i class="fas fa-box-open"></i>
    Comenzi</a>
  <a *ngIf="loggedin()" (click)="closeNav()" (click)="reload()"  routerLink="/user/profile/2" class="dropdown-item"><i class="fas fa-key"></i>
    Schimba parola</a>

  <a *ngIf="loggedin()" (click)="onLogout()" routerLink="/" class="dropdown-item"><i class="fas fa-sign-out-alt"></i>
    Logout</a>
</div>

<nav class="navbar navbar-expand-lg bg-dark">
  <button (click)="openNav()" class="navbar-toggler  btn-close-white" type="button" data-toggle="collapse"
    data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
    aria-label="Toggle navigation">
    <span><i class="fas fa-bars"></i></span>
  </button>

  <div class="collapse navbar-collapse" id="navbarSupportedContent">
    <ul class="navbar-nav mr-auto">
      <li class="nav-item active">
        <a class="nav-link" routerLink="/">Home <span class="sr-only">(current)</span></a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="#">Produse(work in progress)</a>
      </li>

    </ul>
    <div>

      <ul class="nav navbar-nav">
        <li>
          <div *ngIf="!loggedin()"  class="btn-group " dropdown #dropdown="bs-dropdown" [autoClose]="false">
            <button  dropdownToggle type="button" class="btn btn-dark dropdown-toggle">
              Login <span class="caret"></span>
            </button>
            <ul *dropdownMenu class="dropdown-menu" role="menu">
              <form #loginForm='ngForm' (ngSubmit)="inLogin(loginForm)">
                <li role="menuitem"><input required ngModel name="userName" class="m-3 form-control"></li>
                <li role="menuitem"><input required type="password" ngModel name="password" class="m-3 form-control">
                </li>
                <li role="menuitem">
                  <button [disabled]="!loginForm.valid" type="submit"
                    class="btn btn-dark col-5 offset-sm-1 mr-1">Login</button>
                  <button (click)="dropdown.isOpen = !dropdown.isOpen" routerLink="user/register"
                    class=" btn btn-outline-dark col-5 offset-sm-1">Register</button>
                </li>
              </form>
              <li role="menuitem" class="text-center"><span type="button" (click)="dropdown.isOpen = !dropdown.isOpen"
                  routerLink="/">Recuperare parola</span></li>
            </ul>
          </div>
        </li>

        <li *ngIf="!loggedin()" class="nav-item ml-5 mr-5">
          <a class="nav-link" routerLink="user/register" routerLinkActive="active">
            Register
          </a>
        </li>



        <div *ngIf="loggedin()" class="dropdown mr-5" dropdown>

          <a href="#" class="dropdown-toggle text-light row text-center" dropdownToggle (click)="false">
            <p-avatar class="col" shape="circle">
              <img  [src]="url ? url: 'https://www.w3schools.com/howto/img_avatar.png'">
            </p-avatar>
            <span class="col mt-2">Bun venit {{user.userName}}</span>
          </a>
          <div class="dropdown-menu " style="margin-left: 0vw;" *dropdownMenu>

            <a routerLink="/user/profile/1" (click)="reload()"  class="dropdown-item" style="color: black;"><i class="fas fa-file-invoice "
                style="color: black;"></i> Sumar cont </a>

            <a routerLink="/user/profile/2" (click)="reload()"  class="dropdown-item" style="color: black;"><i
                class="fas fa-user-circle"></i> Profil </a>

            <a routerLink="/user/profile/3" (click)="reload()"  href="#" class="dropdown-item " style="color: black;"><i
                class="fas fa-map-marked-alt"></i> Adrese </a>

            <a routerLink="/user/profile/4" (click)="reload()" href="#" class="dropdown-item" style="color: black;"><i
                class="fas fa-box-open"></i> Comenzi </a>

            <a routerLink="/user/profile/2" (click)="reload()" href="#" class="dropdown-item" style="color: black;"><i
                class="fas fa-key"></i> Schimba parola </a>

            <a (click)="onLogout()" routerLink="/" class="dropdown-item" style="color: black;"><i class="fas fa-sign-out-alt"> </i>
              Logout</a>
          </div>
        </div>

      </ul>
    </div>
  </div>
</nav>
